# Start transcript
transcript file TS_BKA_Arria.txt
transcript off

#End any existing simulation
quit -sim

#Deletes the old work library and recreates a work library
vdel -lib work -all
vlib work
vmap work work

#Compile vho file
vcom -work work -2008 -quiet -stats=none ../Simulation/ModelSim/BKA_Cyclone.vho

#Compile testbench
vcom -work work -2008 -quiet -stats=none ../Simulation/AdderTB.vhd

#Compile configuration (binds structure)
vcom -work work -2008 -quiet -stats=none ../SourceCode/ConfigAdder.vhd


#Starts the simulation with the right configuration
vsim -t 100ps -gui -sdftyp /AdderTB/DUT=../Simulation/ModelSim/BKA_Cyclone.sdo work.ConfigBKA_structure


#Setup the wave window
do ../Simulation/WaveSetup.do

transcript on


restart -force
run -all
transcript off
transcript file ""
puts "Timing simulation complete."